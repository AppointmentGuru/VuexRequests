webpackJsonp([1],{19:function(t,e,s){"use strict";var r=s(45);e.a={store:r.a,install:function(t,e){t.prototype.$requeststore=r.a}}},20:function(t,e,s){var r=s(1)(s(46),s(86),null,null);t.exports=r.exports},21:function(t,e,s){s(80);var r=s(1)(s(47),s(87),"data-v-4d28a115",null);t.exports=r.exports},22:function(t,e,s){var r=s(1)(s(50),s(88),null,null);t.exports=r.exports},42:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(4),n=s(23),a=s(20),u=s.n(a),i=s(19),o=s(21),l=s.n(o),c=s(22),d=s.n(c);r.a.config.productionTip=!1,r.a.use(i.a),r.a.use(n.a);var v=[{path:"/",component:l.a},{path:"/randomuser",component:d.a}],_=new n.a({routes:v});r.a.directive("highlightjs",{deep:!0,bind:function(t,e){t.querySelectorAll("code").forEach(function(t){e.value&&(t.textContent=e.value),hljs.highlightBlock(t)})},componentUpdated:function(t,e){t.querySelectorAll("code").forEach(function(t){e.value&&(t.textContent=e.value,hljs.highlightBlock(t))})}}),new r.a({router:_,el:"#app",template:"<App/>",components:{App:u.a}})},43:function(t,e,s){"use strict";function r(){return Math.random().toString().split(".")[1]}function n(t,e){return e.id||(e.id=r()),e.result={status:0},e.method=t,e.loading=!0,e}function a(t,e,s){return e.getRequestById(s.id)===-1&&t("PUSH_REQUEST",s),o[s.method](s.url).then(function(e){s.loading=!1,s.result=e,t("UPDATE_REQUEST",s)}).catch(function(e){s.loading=!1,e.response?s.result=e.response:(s.result.message=e.message,s.result.name=e.toString(),s.result.config=e.config),s.result.status||(s.result.status=500,s.result.statusText=e.toString()),t("UPDATE_REQUEST",s)})}var u=s(24),i=s.n(u);s.d(e,"a",function(){return l}),s.d(e,"b",function(){return c}),s.d(e,"c",function(){return d}),s.d(e,"d",function(){return v}),s.d(e,"e",function(){return _}),s.d(e,"f",function(){return f}),s.i({NODE_ENV:"production"}).API_ROOT||console.warn("No API route defined. Please set API route in config/dev.env.js");var o=i.a.create({baseURL:s.i({NODE_ENV:"production"}).API_ROOT,headers:{"Content-Type":"application/json"}}),l=function(t,e){var s=t.commit,r=t.getters;return e=n("get",e),a(s,r,e),e.id},c=function(t,e){var s=t.commit,r=t.getters;return e=n("post",e),s("PUSH_REQUEST",e),a(s,r,e)},d=function(t){t.commit;console.log("PUT")},v=function(t){t.commit;console.log("PATCH")},_=function(t){t.commit;console.log("DELETE")},f=function(t,e){var s=t.getters,r=t.commit,n=s.getRequestById(e);if(n!==-1)return n.result.status=0,n.loading=!0,r("UPDATE_REQUEST",n),a(r,s,n)}},44:function(t,e,s){"use strict";var r,n=s(52),a=s.n(n),u=s(53),i=s.n(u),o=s(4),l=s(43);e.a={state:{requests:[],index:{}},mutations:(r={},i()(r,"UPDATE_REQUEST",function(t,e){var s=t.index[e.id];o.a.set(t.requests,s,e)}),i()(r,"PUSH_REQUEST",function(t,e){t.requests.push(e);var s=t.requests.length-1;o.a.set(t.index,e.id,e,s)}),i()(r,"REMOVE_REQUEST",function(t,e){console.log("remove request: "+e)}),r),actions:{GET:l.a,POST:l.b,PUT:l.c,PATCH:l.d,DELETE:l.e,RETRY:l.f},getters:{getRequestById:function(t,e){return function(e){if(e in t.index){var s=t.index[e];return t.requests[s]}return-1}},totalRequestCount:function(t){return a()(t.requests).length},getRequestByStatusCode:function(t,e){return function(e){return t.requests.filter(function(t){return t.result.status===e})}},getRequestByStatusClass:function(t,e){return function(e){return t.requests.filter(function(t){if(t.result&&t.result.status)return 0===t.result.status.toString().indexOf(e)})}},getInProgressRequests:function(t,e){return e.getRequestByStatusCode(0)},getClientErrorRequests:function(t,e){return e.getRequestByStatusClass("4")},getServerErrorRequests:function(t,e){return e.getRequestByStatusClass("5")}}}},45:function(t,e,s){"use strict";var r=s(4),n=s(92),a=s(44);r.a.use(n.a),e.a=new n.a.Store({modules:{requests:a.a}})},46:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},47:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(85),n=s.n(r),a=s(84),u=s.n(a);e.default={name:"VuexRequests",components:{RequestItem:n.a,RequestDetail:u.a},data:function(){return{resultCode:400,activeRequest:{}}},created:function(){var t={url:"https://randomapi.com/api/6de6abfedb24f889e0b5f675edc50deb?fmt=raw&sole",id:"get_random_users"};this.$requeststore.dispatch("GET",t),this.activeRequest=t},computed:{requests:function(){return this.$requeststore.state.requests.requests},random_user_request:function(){var t=this.$requeststore.getters.getRequestById("get_random_users");return t!==-1?t:{}},users:function(){var t=this.$requeststore.getters.getRequestById("get_random_users");return t!==-1?t.result.data:[]},usersLoading:function(){var t=this.$requeststore.getters.getRequestById("get_random_users");return t!==-1&&t.loading},index:function(){return this.$requeststore.state.requests.index},requestCount:function(){return this.$requeststore.getters.totalRequestCount},inprogressRequests:function(){return this.$requeststore.getters.getInProgressRequests},successRequests:function(){return this.$requeststore.getters.getRequestByStatusCode(200)},clientErrorRequests:function(){return this.$requeststore.getters.getClientErrorRequests},serverErrorRequests:function(){return this.$requeststore.getters.getServerErrorRequests}},methods:{createRequest:function(){var t={url:"api/"};return this.$requeststore.dispatch("GET",t)},retry:function(t){return this.$requeststore.dispatch("RETRY",t)},showRequest:function(t){this.activeRequest=t,$("#req-modal").modal("show")}}}},48:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"RequestDetail",props:{request:{type:Object,required:!0}},mounted:function(){$("#reqResTabs a").click(function(t){t.preventDefault(),$(this).tab("show")})}}},49:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Request",props:{request:{type:Object,required:!0}},methods:{emit:function(t,e){var s="requestitem:"+t;console.log(s,e),this.$emit(s,e)}}}},50:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"RandomUserPage",mounted:function(){var t={url:"https://randomapi.com/api/6de6abfedb24f889e0b5f675edc50deb",id:"get_users_request"};this.$requeststore.dispatch("GET",t)},computed:{randomUserRequest:function(){var t=this.$requeststore.getters.getRequestById("get_users_request");return t!==-1?t:{result:{data:{results:[]}}}},users:function(){return this.randomUserRequest?this.randomUserRequest.result.data.results[0]:[]},usersLoading:function(){return!!this.randomUserRequest&&this.randomUserRequest.loading}},methods:{retry:function(){this.$requeststore.dispatch("RETRY","get_users_request")}}}},80:function(t,e){},81:function(t,e){},82:function(t,e){},84:function(t,e,s){s(81);var r=s(1)(s(48),s(89),"data-v-69f05e66",null);t.exports=r.exports},85:function(t,e,s){s(82);var r=s(1)(s(49),s(90),"data-v-751368e2",null);t.exports=r.exports},86:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-toggleable-md navbar-light bg-faded"},[t._m(0),t._v(" "),s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("VuexRequests")]),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[t._m(1),t._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/",href:"#"}},[t._v("Demo")])],1),t._v(" "),s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/randomuser",href:"#"}},[t._v("Get Example")])],1),t._v(" "),s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/",href:"#"}},[t._v("CRUD Example")])],1)])])]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler navbar-toggler-right",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Home "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])])}]}},87:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("form",{staticClass:"form-inline p-2"},[s("label",{attrs:{for:"inlineFormInput"}},[t._v("Server response status:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.resultCode,expression:"resultCode"}],staticClass:"form-control mb-2 mr-sm-2 mb-sm-0",attrs:{type:"text",id:"inlineFormInput"},domProps:{value:t.resultCode},on:{input:function(e){e.target.composing||(t.resultCode=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn",on:{click:t.createRequest}},[t._v("Create request")])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h5",[t._v("In progress")]),t._v(" "),t._l(t.inprogressRequests,function(e){return[s("request-item",{attrs:{request:e}}),t._v(" "),s("button",{on:{click:function(s){t.retry(e.id)}}},[t._v("Cancel")])]})],2),t._v(" "),s("div",{staticClass:"col"},[s("h5",[t._v("Error requests")]),t._v(" "),s("strong",[t._v("Client errors (4xx)")]),t._v(" "),t._l(t.clientErrorRequests,function(e){return s("request-item",{key:e.id,attrs:{request:e},on:{"requestitem:retry":t.retry,"requestitem:select":t.showRequest}})}),t._v(" "),s("strong",[t._v("Server errors (5xx)")]),t._v(" "),t._l(t.serverErrorRequests,function(e){return s("request-item",{key:e.id,attrs:{request:e},on:{"requestitem:retry":t.retry,"requestitem:select":t.showRequest}})})],2),t._v(" "),s("div",{staticClass:"col"},[s("h5",[t._v("Success requests")]),t._v(" "),t._l(t.successRequests,function(e){return s("request-item",{key:e.id,attrs:{request:e},on:{"requestitem:retry":t.retry,"requestitem:select":t.showRequest}})})],2)]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"req-modal"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("request-detail",{attrs:{request:t.activeRequest}})],1),t._v(" "),t._m(1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v("Request detail")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}]}},88:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Random User Example")]),t._v(" "),s("blockquote",[t._v("An example that demonstrates using VuexRequests to interact with the RandomUser.io API")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn",on:{click:t.retry}},[t._v("Reload")]),t._v("\n          Loading: "+t._s(t.usersLoading)+"\n        ")]),t._v(" "),t._l(t.users,function(e){return s("li",{staticClass:"list-group-item"},[t._v("\n            "+t._s(e.first)+" "+t._s(e.last))])})],2)]),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"p-2"},[s("h3",[t._v("Code for this example:")]),t._v(" "),s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[s("code",{staticClass:"JavaScript"},[t._v("\nexport default {\n  name: 'RandomUserPage',\n  mounted () {\n    let req = {\n      url: 'https://randomapi.com/api/6de6abfedb24f889e0b5f675edc50deb',\n      id: GET_USERS_REQUEST\n    }\n    this.$requeststore.dispatch('GET', req)\n  },\n  computed: {\n    randomUserRequest () {\n      let req = this.$requeststore\n                  .getters\n                    .getRequestById(GET_USERS_REQUEST)\n      if (req !== -1) {\n        return req\n      } else {\n        return { data: { results: [] } }\n      }\n    },\n    users () {\n      return this.randomUserRequest.result\n    },\n    usersLoading () {\n      return this.randomUserRequest.loading\n    }\n  },\n  methods: {\n    retry () {\n      this.$requeststore.dispatch('RETRY', GET_USERS_REQUEST)\n    }\n  }\n}\n")])])])])])],1)},staticRenderFns:[]}},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("h4",{staticClass:"card-title"},[t._v("\n      #"+t._s(t.request.id)+"\n      "),s("span",{staticClass:"badge badge-default pull-right"},[t._v(t._s(t.request.result.status))])]),t._v(" "),s("p",{staticClass:"card-text"},[s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[s("code",{staticClass:"Bash"},[t._v(t._s(t.request.method.toUpperCase())+" "+t._s(t.request.url))])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane fade active",attrs:{id:"request",role:"tabpanel"}},[s("br"),t._v(" "),s("p",[t._v("\n        "+t._s(t.request.result.status)+" "+t._s(t.request.result.statusText)+"\n        ")]),s("h5",[t._v("Headers")]),t._v(" "),t.request.result.config?s("ul",t._l(t.request.result.config.headers,function(e,r,n){return s("li",[s("strong",[t._v(t._s(r))]),t._v(": "+t._s(e)+"\n          ")])})):t._e(),t._v(" "),s("p")]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"response",role:"tabpanel"}},[s("p"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.request.result.name,expression:"request.result.name"}]},[t._v("\n            "+t._s(t.request.result.status)+" "+t._s(t.request.result.statusText)+"\n          ")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.request.result,expression:"request.result"}]},[s("h5",[t._v("Headers")]),t._v(" "),s("ul",t._l(t.request.result.headers,function(e,r,n){return s("li",[s("strong",[t._v(t._s(r))]),t._v(": "+t._s(e)+"\n              ")])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.request.result.data,expression:"request.result.data"}],staticClass:"response-data"},[s("h5",[t._v("Response data")]),t._v(" "),s("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:JSON.stringify(t.request.result.data,null,2),expression:"JSON.stringify(request.result.data, null, 2)"}]},[t._v("\n                "),s("code",{staticClass:"JSON"})])])]),t._v(" "),s("p")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"nav nav-tabs",attrs:{id:"reqResTabs"}},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link active",attrs:{href:"#request"}},[t._v(" Request")])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#response"}},[t._v(" Response")])])])}]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-block"},[s("span",{staticClass:"avatar bg-success text-white rounded-circle pull-left"},[t._v("\n      "+t._s(t.request.result.status)+"\n    ")]),t._v(t._s(t.request.id)+"\n    "),s("hr"),t._v(" "),s("a",{staticClass:"card-link",on:{click:function(e){t.emit("select",t.request)}}},[t._v("View")]),t._v(" "),s("a",{staticClass:"card-link",on:{click:function(e){t.emit("retry",t.request.id)}}},[t._v("Retry")]),t._v(" "),s("a",{staticClass:"card-link",on:{click:function(e){t.emit("cancel",t.request.id)}}},[t._v("Cancel")])])])},staticRenderFns:[]}}},[42]);
//# sourceMappingURL=app.2a6e5b55ad1549129c42.js.map